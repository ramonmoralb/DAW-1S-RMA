/*borrado de las tablas */
drop table inventario;
drop table preciosum;
drop table linped;
drop table pedido;
drop table pieza;
drop table vendedor;

/* creacion de tablas */

create table vendedor 
  (
    numvend number(4),
    nomvend varchar2(30),
    nombrecomer varchar2(30),
    telefono char(12),
    calle varchar2(30),
    ciudad varchar2(20),
    provincia varchar2(20),
    constraint pk_vendedor primary key (numvend) 
  );

create table pieza
  (
    numpieza varchar2(16),
    nompieza varchar2(30),
    preciovent number(9,2),
    constraint pk_pieza primary key (numpieza)
  );

create table pedido 
  (
    numpedido number(5),
    numvend number(4),
    fecha date,
    constraint pk_pedido primary key (numpedido),
    constraint fk_ped_ven foreign key (numvend)
	references vendedor (numvend)
  );

create table preciosum 
  (
    numpieza varchar2(16),
    numvend number(4),
    preciounit number(9,2),
    diassum number(3),
    descuento number(2),
    constraint pk_preciosum primary key (numpieza,numvend),
    constraint fk_pre_pie foreign key (numpieza)
      references pieza (numpieza),
    constraint fk_pre_ven foreign key (numvend)
      references vendedor (numvend)
  );

create table linped 
  (
    numpedido number(5),
    numlinea number(2),
    numpieza varchar2(16),
    preciocompra number(9,2),
    cantpedida number(4),
    fecharecep date,
    cantrecibida number(4),
    constraint pk_linped primary key (numpedido,numlinea),
    constraint fk_lin_pie foreign key (numpieza)
      references pieza (numpieza),
    constraint fk_lin_ped foreign key (numpedido)
      references pedido (numpedido)
  );

create table inventario 
  (
    numpieza varchar2(16) constraint nn_inventario not null,
    numbin number(10),
    cantdisponible number(5),
    fecharecuento date,
    periodorecuen number(2),
    cantminima number(5),
    constraint pk_inventario primary key (numbin),
    constraint fk_inv_pie foreign key (numpieza)
      references pieza (numpieza)
  );



/* Inserción de datos en las tablas */

INSERT INTO VENDEDOR VALUES(200,'SEVERINO MARTIN MARTINEZ','SEVESOFT','5779988','GENERAL LACY, 17','ALICANTE','ALICANTE');
INSERT INTO VENDEDOR VALUES(1,'AGAPITO LAFUENTE DEL CORRAL','MECEMSA','96-5782401','Avda. Valencia 3205','ALICANTE','ALICANTE');
INSERT INTO VENDEDOR VALUES(2,'LUCIANO BLAZQUEZ VAZQUEZ','HARW S.A.','96-3232321','GENERAL LACY, 15 2 B','ALICANTE','ALICANTE');
INSERT INTO VENDEDOR VALUES(3,'GODOFREDO MARTIN MARTINEZ','MECEMSA','96-4141722','AVDA. VALENCIA 3372','ALICANTE','ALICANTE');
INSERT INTO VENDEDOR VALUES(4,'JUANITO REINA PRINCESA','HARW S.A.','903-696969','DONDEQUIERAS, 1000, 13F','LO ANGELE','LOS EUS');
INSERT INTO VENDEDOR VALUES(5,'JUANITO REINA PRINCESA','LA DEAQUI','98-5363636','S. FRANCISCO DE ASIS, 10 1','GIJON','ASTURIAS');
INSERT INTO VENDEDOR VALUES(6,'MANOLO PIEDRA POMEZ','HUMP S.A.','96-5660727','AVIACION 92, 3 I','SAN VICENTE','ALICANTE');
INSERT INTO VENDEDOR VALUES(7,'MANUEL PEREZ RODRIGUEZ','SOFTHARD DISTRIBUIDORA S.A.','985696969','ARZOBISPO LOACES','QUINTANAR DE LA ORDE','TOLEDO');
INSERT INTO VENDEDOR VALUES(8,'LUISA PINTO HEREDIA','LA MEJOR S.A.','999-2014455','OXFORD BLUES','NEW ORLEANS','LOUISSIANA');
INSERT INTO VENDEDOR VALUES(9,'CHEMA PAMUNDI','OLE ESPAÑA, S.A.',NULL,'RIVAS VACIA','MADRID','MADRID');
INSERT INTO VENDEDOR VALUES(10,'GUSTAVO DE BASICA','OLE ESPAÑA, S.A.',NULL,'RIVAS VACIA','MADRID','MADRID');
INSERT INTO VENDEDOR VALUES(11,'MARIO DUQUE LIZONDO','BANESTOESSOFT S.L.','98-0101010','MOROS, 19','GIJON','ASTURIAS');
INSERT INTO VENDEDOR VALUES(12,'JOSE ANTONIO MARTINEZ JUAN','OLE ESPAÑA, S.A.','3667788','COLON, 21','VALENCIA','VALENCIA');
INSERT INTO VENDEDOR VALUES(13,'MANUEL GOMEZ SANTISTEBAN','OLE ESPAÑA, S.A.','3667789','COLON, 21','VALENCIA','VALENCIA');
INSERT INTO VENDEDOR VALUES(8001,'JUAN RODRIGUEZ JUAN','HALA S.A.',NULL,NULL,'ALMORADI','ALICANTE');
INSERT INTO VENDEDOR VALUES(8002,'JUAN MARTINEZ GARCIA','HARW S.A.','3334455','CISCAR, 5','VALENCIA','VALENCIA');
INSERT INTO VENDEDOR VALUES(8003,'LUIS RODRIGUEZ SALA','HARW S.A.','3335588','SALAMANCA, 102','VALENCIA','VALENCIA');
INSERT INTO VENDEDOR VALUES(100,'PEDRO GRACIA MORALES','SOFT S.A.',NULL,'SALAMANCA, 100','VALENCIA','VALENCIA');
INSERT INTO VENDEDOR VALUES(101,'SALVADOR PLA GARCIA','TABAC Y SOFT','5661100','MAYOR, 44','SAN VICENTE','ALICANTE');
INSERT INTO VENDEDOR VALUES(102,'SOLEDAD MARTINEZ ORTEGA','ASX. S.A.','87879998','PEREZ GALDOS, 54','ALICANTE','ALICANTE');
INSERT INTO VENDEDOR VALUES(55,'LUIS GARCIA SATORRE','HARW S.A.','5889944','POETA ALONSO, 12','ALICANTE','ALICANTE');
INSERT INTO VENDEDOR VALUES(201,'MANUEL ORTUÑO LAFUENTE','HALA S.A.','5660788','MAYOR, 64','SAN VICENTE','ALICANTE');

INSERT INTO PIEZA VALUES('DD-0001-30','DISCO DURO 30M SEAGATE',200);
INSERT INTO PIEZA VALUES('M-0001-C','MONITOR SYNCMASTER 3 COLOR',170);
INSERT INTO PIEZA VALUES('M-0002-C','MONITOR COLOR SONY BT',350);
INSERT INTO PIEZA VALUES('M-0003-C','MONITOR IBM 3570 COLOR',400);
INSERT INTO PIEZA VALUES('DD-0001-210','DISCO DURO WESTERN DIG 210M 28',250);
INSERT INTO PIEZA VALUES('P-0001-33','PLACA INTEL 33Mz',350);
INSERT INTO PIEZA VALUES('FD-0001-144','FLOPPY 1.44 IBM',180);
INSERT INTO PIEZA VALUES('FD-0002-720','FLOPPY 720K IBM',150);
INSERT INTO PIEZA VALUES('T-0001-IBM','TECLADO XT IBM',110);
INSERT INTO PIEZA VALUES('T-0002-AT','TECLADO AT SUSUSU',55);
INSERT INTO PIEZA VALUES('T-0003-AT','TECLADO AT HP',120);
INSERT INTO PIEZA VALUES('DK144-0001','DISKETTE 1.44 PANASONIC',1.1);
INSERT INTO PIEZA VALUES('DK144-0002-P','PACK DISKETTE 144 PANASONIC',10);
INSERT INTO PIEZA VALUES('O-0001-PP','PEGATINAS CONCIERTO JEVI',20);
INSERT INTO PIEZA VALUES('O-0002-PP','PACK PEGATINAS CONCIERTO JEVI',100);
INSERT INTO PIEZA VALUES('A-1001-L','MOUSE ADL 3B',7);
INSERT INTO PIEZA VALUES('C-400-Z','FILTRO PANTALLA X200',18);
INSERT INTO PIEZA VALUES('C-1002-H',NULL,4);
INSERT INTO PIEZA VALUES('C-1002-J',NULL,7);
INSERT INTO PIEZA VALUES('X-0001-PC','TECLADO ESTANDAR PC',70);

INSERT INTO PEDIDO VALUES (1,1,TO_DATE('05/05/92','DD/MM/YY'));
INSERT INTO PEDIDO VALUES (2,1,TO_DATE('11/10/92','DD/MM/YY'));
INSERT INTO PEDIDO VALUES (3,2,TO_DATE('15/10/92','DD/MM/YY'));
INSERT INTO PEDIDO VALUES (4,2,TO_DATE('16/10/92','DD/MM/YY'));
INSERT INTO PEDIDO VALUES (5,1,TO_DATE('22/10/92','DD/MM/YY'));
INSERT INTO PEDIDO VALUES (6,5,TO_DATE('22/08/93','DD/MM/YY'));
INSERT INTO PEDIDO VALUES (7,8002,TO_DATE('02/10/92','DD/MM/YY'));

INSERT INTO PRECIOSUM VALUES('DD-0001-210',1,150,3,15);
INSERT INTO PRECIOSUM VALUES('DD-0001-210',2,170,5,12);
INSERT INTO PRECIOSUM VALUES('M-0001-C',1,155,3,10);
INSERT INTO PRECIOSUM VALUES('M-0001-C',3,180,7,15);
INSERT INTO PRECIOSUM VALUES('M-0002-C',9,300,1,5);
INSERT INTO PRECIOSUM VALUES('M-0003-C',3,350,2,15);
INSERT INTO PRECIOSUM VALUES('M-0003-C',4,280,7,NULL);
INSERT INTO PRECIOSUM VALUES('P-0001-33',2,210,5,NULL);
INSERT INTO PRECIOSUM VALUES('P-0001-33',1,250,3,NULL);
INSERT INTO PRECIOSUM VALUES('P-0001-33',4,280,7,NULL);
INSERT INTO PRECIOSUM VALUES('P-0001-33',3,250,2,NULL);
INSERT INTO PRECIOSUM VALUES('P-0001-33',5,280,3,10);
INSERT INTO PRECIOSUM VALUES('FD-0001-144',1,130,3,NULL);
INSERT INTO PRECIOSUM VALUES('FD-0002-720',1,60,3,NULL);
INSERT INTO PRECIOSUM VALUES('T-0001-IBM',2,90,5,NULL);
INSERT INTO PRECIOSUM VALUES('T-0002-AT',1,30,3,NULL);
INSERT INTO PRECIOSUM VALUES('T-0002-AT',2,35,5,7);
INSERT INTO PRECIOSUM VALUES('T-0002-AT',4,25,7,NULL);
INSERT INTO PRECIOSUM VALUES('T-0002-AT',5,33,3,NULL);
INSERT INTO PRECIOSUM VALUES('T-0003-AT',1,77.5,3,NULL);
INSERT INTO PRECIOSUM VALUES('T-0003-AT',3,81.45,0,NULL);
INSERT INTO PRECIOSUM VALUES('DK144-0001',1,0.56,3,NULL);
INSERT INTO PRECIOSUM VALUES('DK144-0002-P',1,5.6,3,NULL);
INSERT INTO PRECIOSUM VALUES('DK144-0002-P',2,5.5,5,NULL);
INSERT INTO PRECIOSUM VALUES('O-0001-PP',5,19.5,1,NULL);
INSERT INTO PRECIOSUM VALUES('O-0002-PP',2,99,1,0);
INSERT INTO PRECIOSUM VALUES('O-0002-PP',5,98.75,1,12);
INSERT INTO PRECIOSUM VALUES('A-1001-L',3,5,1,NULL);
INSERT INTO PRECIOSUM VALUES('A-1001-L',4,4.9,1,NULL);
INSERT INTO PRECIOSUM VALUES('C-400-Z',1,8.5,4,5);
INSERT INTO PRECIOSUM VALUES('C-400-Z',8002,7,3,NULL);
INSERT INTO PRECIOSUM VALUES('T-0002-AT',100,34,2,5);
INSERT INTO PRECIOSUM VALUES('A-1001-L',100,4,3,NULL);
INSERT INTO PRECIOSUM VALUES('T-0001-IBM',100,95,5,10);
INSERT INTO PRECIOSUM VALUES('O-0002-PP',101,80,10,NULL);
INSERT INTO PRECIOSUM VALUES('DD-0001-210',101,140,15,14);
INSERT INTO PRECIOSUM VALUES('FD-0001-144',102,136,3,7);
INSERT INTO PRECIOSUM VALUES('FD-0001-144',55,120,10,13);
INSERT INTO PRECIOSUM VALUES('O-0001-PP',55,15,7,NULL);
INSERT INTO PRECIOSUM VALUES('DD-0001-30',1,120,4,NULL);
INSERT INTO PRECIOSUM VALUES('M-0002-C',1,150,10,15);
INSERT INTO PRECIOSUM VALUES('M-0003-C',1,200,7,NULL);
INSERT INTO PRECIOSUM VALUES('T-0001-IBM',1,90,15,NULL);
INSERT INTO PRECIOSUM VALUES('O-0001-PP',1,15,1,NULL);
INSERT INTO PRECIOSUM VALUES('O-0002-PP',1,75,1,NULL);
INSERT INTO PRECIOSUM VALUES('A-1001-L',1,2,3,NULL);
INSERT INTO PRECIOSUM VALUES('C-1002-H',1,0.5,2,NULL);
INSERT INTO PRECIOSUM VALUES('C-1002-J',1,1.5,2,NULL);
INSERT INTO PRECIOSUM VALUES('T-0002-AT',201,30,1,5);

INSERT INTO LINPED VALUES(6,1,'O-0001-PP',15,1000,TO_DATE('25/08/95','DD/MM/YY'),1000);
INSERT INTO LINPED VALUES(6,2,'O-0002-PP',99,2000,TO_DATE('25/08/95','DD/MM/YY'),1998);
INSERT INTO LINPED VALUES(1,1,'M-0001-C',300,10,TO_DATE('10/05/92','DD/MM/YY'),10);
INSERT INTO LINPED VALUES(1,2,'P-0001-33',210,20,TO_DATE('10/05/92','DD/MM/YY'),18);
INSERT INTO LINPED VALUES(1,3,'FD-0001-144',135,20,TO_DATE('10/05/92','DD/MM/YY'),20);
INSERT INTO LINPED VALUES(1,4,'DD-0001-210',150,20,TO_DATE('10/05/92','DD/MM/YY'),20);
INSERT INTO LINPED VALUES(2,1,'DK144-0002-P',5.45,100,TO_DATE('15/10/92','DD/MM/YY'),101);
INSERT INTO LINPED VALUES(2,2,'T-0002-AT',30,1,TO_DATE('15/10/92','DD/MM/YY'),1);
INSERT INTO LINPED VALUES(1,5,'T-0002-AT',31,22,TO_DATE('17/10/92','DD/MM/YY'),22);
INSERT INTO LINPED VALUES(3,1,'DD-0001-210',146,15,TO_DATE('17/10/92','DD/MM/YY'),15);
INSERT INTO LINPED VALUES(3,2,'P-0001-33',210,3,TO_DATE('17/10/92','DD/MM/YY'),3);
INSERT INTO LINPED VALUES(4,1,'O-0002-PP',99,10,TO_DATE('17/10/92','DD/MM/YY'),10);
INSERT INTO LINPED VALUES(5,1,'T-0002-AT',15,15,TO_DATE('11/06/93','DD/MM/YY'),13);
INSERT INTO LINPED VALUES(7,1,'C-400-Z',7,45,TO_DATE('09/10/92','DD/MM/YY'),8);

INSERT INTO INVENTARIO VALUES('DD-0001-30',1,120,TO_DATE('15/10/90','DD/MM/YY'),1,15);
INSERT INTO INVENTARIO VALUES('P-0001-33',2,10,TO_DATE('15/10/92','DD/MM/YY'),null,5);
INSERT INTO INVENTARIO VALUES('O-0002-PP',3,110,TO_DATE('15/10/92','DD/MM/YY'),1,3);
INSERT INTO INVENTARIO VALUES('M-0001-C',4,15,TO_DATE('15/10/92','DD/MM/YY'),2,2);
INSERT INTO INVENTARIO VALUES('M-0003-C',5,2,TO_DATE('20/10/92','DD/MM/YY'),1,0);
INSERT INTO INVENTARIO VALUES('DD-0001-210',6,10,TO_DATE('12/11/92','DD/MM/YY'),2,1);
INSERT INTO INVENTARIO VALUES('FD-0001-144',7,10,TO_DATE('12/11/92','DD/MM/YY'),2,0);